# v0.20.0: Simplified User Input with `WaitYesOrNoAnswer()`

Hello everyone! This update introduces a new convenience method on the `ChatContext`
object to make handling simple "yes" or "no" questions in your commands easier than ever.

## What's new?

The new method, `ctx.WaitYesOrNoAnswer()`, abstracts away the need for boilerplate logic
to check for affirmative and negative keywords, automatically recognizing a wide range
of common responses across several languages.

## Method Signature and Usage

The method accepts an optional object to override the default keywords or define standard waiting options like timeout and cancellation.

```ts
WaitYesOrNoAnswer(localOptions?: Partial<IChatContext_WaitYesOrNoAnswer_Params>): Promise<boolean | null>;
```

| Response |      Type       |      Default Keywords (Case-Insensitive)      |
| :------: | :-------------: | :-------------------------------------------: |
| Positive | (Returns true)  | _*"yes", "y", "si", "s", "ok", "vale", "s√≠"*_ |
| Negative | (Returns false) |                 _*"no", "n"*_                 |

Any other response returns `null`, indicating either an ambiguous answer, a timeout, or a cancellation.

## Example: Basic Confirmation

This simple example shows how to use the return value (true, false, or null) for control flow.

```ts
await ctx.SendText("Do you want to continue? (yes/no)");
// Timeout set to 30 seconds for this response.
const answer = await ctx.WaitYesOrNoAnswer({ normalConfig: { timeoutSeconds: 30 } });

if (answer === true) {
  await ctx.SendText("Proceeding...");
} else if (answer === false) {
  await ctx.SendText("Operation cancelled.");
} else {
  // This executes on timeout, cancellation, or ambiguous response.
  await ctx.SendText("No valid response received.");
}
```

## Example: Overriding Keywords

You can provide custom lists to limit or expand the accepted responses. Note that specifying an option overrides the defaults completely.

```ts
// We only want the user to respond with "confirm" or "reject".
const customOptions = {
  waitYesOrNoOptions: {
    positiveAnswerOptions: ["confirm"],
    negativeAnswerOptions: ["reject", "deny", "stop"],
  },
  // We can still set a local timeout for this operation.
  normalConfig: {
    timeoutSeconds: 15,
  },
};

await ctx.SendText("Are you sure? Respond 'confirm' to proceed.");
const answer = await ctx.WaitYesOrNoAnswer(customOptions);

// If user sends "yes", the function returns null because "yes" is not in the custom list.
if (answer === true) {
  // Code runs only if the user sends "confirm"
}
```

## Realistic example

Here a ready to use example to explain the usage:

```ts
import type { AdditionalAPI, CommandArgs, IChatContext } from "../../src/index.js";
import Whatsbotcord, { type ICommand } from "../../src/index.js";

class Command implements ICommand {
  name: string = "com";
  public async run(ctx: IChatContext, _: AdditionalAPI, __: CommandArgs): Promise<void> {
    //... your code
    await ctx.SendText("Hi!, would you like to know what whatsbotcord means? [yes\no]");
    let response: boolean | null = false;
    while (response !== null) {
      response = await ctx.WaitYesOrNoAnswer({
        normalConfig: { timeoutSeconds: 2 },
        waitYesOrNoOptions: {},
      });
      /**
       * If response is null, it means:
       * - Couldn't retrieve correctly from whatsapp servers
       * - Configured TimeoutSeconds rather in local config (in WaitYesOrNoAnswer optional params) or global config (in BOT Constructor)
       */
      if (response === null) {
        await ctx.SendText("You haven't respond in time or no valid answer, try again");
      }
    }
    if (response) {
      await ctx.SendText("Whatsbotcord comes from 'Whatsapp', 'Bot', 'Discord'!");
    } else {
      await ctx.SendText("Ok, see you later");
    }
    //... more code
  }
}

const bot = new Whatsbotcord({
  // positiveAnswerOptions: ["yes", "y"] /** <= you can specify it here as well as global config (Optional) */,
  // negativeAnswerOptions: ["no", "n"] /** <= you can specify it here as well as global config (Optional) */,
});

bot.Commands.Add(new Command());

bot.Start();
```

This time is a small update just to enhance developer experience with whatsbotcord.
If you face any issue you can let me know creating an issue in the proyect's github proyect.
